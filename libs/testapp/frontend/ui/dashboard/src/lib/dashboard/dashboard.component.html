<div
  class="background-container"
  [style.backgroundImage]="'url(global/assets/img/blue-background.jpg)'"
  *ngrxLet="{
    searchList: dashboardStore.searchList$ | ngrxPush,
  } as vm"
>
  <div class="content">
    <mat-tab-group>
      <mat-tab label="TestChallenge">
        <form class="example-form">
          <mat-form-field class="example-full-width">
            <mat-label>StarWars Search</mat-label>
            <input
              matInput
              aria-label="State"
              placeholder="Try 'Luke Skywalker'"
              [matAutocomplete]="auto"
              [formControl]="stateCtrl"
              (input)="dashboardStore.search$(stateCtrl.value)"
            />
            <mat-autocomplete
              #auto="matAutocomplete"
              (optionSelected)="onItemSelected($event)"
            >
              <mat-option *ngIf="stateCtrl.value && vm.searchList === null">
                <mat-spinner diameter="20" mode="indeterminate" />
              </mat-option>

              @if( vm.searchList) { @for (state of vm.searchList; track state) {
              <mat-option [value]="state.name">
                <span>{{ state.name }}</span> |
                <small>Birth Year: {{ state.birth_year }}</small>
              </mat-option>
              } }
            </mat-autocomplete>
          </mat-form-field>

          <mat-list disableRipple="false">
            @for (folder of folders; track folder) {
            <mat-list-item>
              <mat-icon color="warn" matListItemIcon>folder</mat-icon>
              <div matListItemTitle>{{ folder.name }}</div>
              <div matListItemLine>{{ folder.population }}</div>
            </mat-list-item>
            }
          </mat-list>
        </form>
      </mat-tab>
      <mat-tab label="TikTakToe">
        <div class="tiktaktoe">Currently under development</div>
      </mat-tab>
    </mat-tab-group>
  </div>
</div>
